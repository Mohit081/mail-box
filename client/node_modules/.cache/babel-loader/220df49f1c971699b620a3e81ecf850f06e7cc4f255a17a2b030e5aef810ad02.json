{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohit\\\\OneDrive\\\\Desktop\\\\task\\\\client\\\\src\\\\pages\\\\Mailbox.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { Mail, Send, Star, Trash2, Search, Plus, RefreshCw } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Mailbox = () => {\n  _s();\n  const [emails, setEmails] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentLabel, setCurrentLabel] = useState('inbox');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedEmails, setSelectedEmails] = useState([]);\n  const [pagination, setPagination] = useState({\n    current: 1,\n    pages: 1,\n    total: 0\n  });\n  const labels = [{\n    key: 'inbox',\n    label: 'Inbox',\n    icon: Mail\n  }, {\n    key: 'sent',\n    label: 'Sent',\n    icon: Send\n  }, {\n    key: 'drafts',\n    label: 'Drafts',\n    icon: Star\n  }, {\n    key: 'important',\n    label: 'Important',\n    icon: Star\n  }, {\n    key: 'trash',\n    label: 'Trash',\n    icon: Trash2\n  }];\n  useEffect(() => {\n    fetchEmails();\n  }, [currentLabel, pagination.current, searchTerm]);\n  const fetchEmails = async () => {\n    try {\n      setLoading(true);\n      const params = new URLSearchParams({\n        label: currentLabel,\n        page: pagination.current,\n        limit: 20\n      });\n      if (searchTerm) {\n        params.append('search', searchTerm);\n      }\n      const response = await axios.get(`/api/emails?${params}`);\n      setEmails(response.data.emails);\n      setPagination(response.data.pagination);\n    } catch (error) {\n      console.error('Error fetching emails:', error);\n      toast.error('Failed to fetch emails');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLabelChange = label => {\n    setCurrentLabel(label);\n    setPagination(prev => ({\n      ...prev,\n      current: 1\n    }));\n    setSelectedEmails([]);\n  };\n  const handleSearch = e => {\n    setSearchTerm(e.target.value);\n    setPagination(prev => ({\n      ...prev,\n      current: 1\n    }));\n  };\n  const handleSelectEmail = emailId => {\n    setSelectedEmails(prev => prev.includes(emailId) ? prev.filter(id => id !== emailId) : [...prev, emailId]);\n  };\n  const handleSelectAll = () => {\n    if (selectedEmails.length === emails.length) {\n      setSelectedEmails([]);\n    } else {\n      setSelectedEmails(emails.map(email => email._id));\n    }\n  };\n  const handleMarkAsRead = async () => {\n    try {\n      await Promise.all(selectedEmails.map(emailId => axios.put(`/api/emails/${emailId}`, {\n        isRead: true\n      })));\n      toast.success('Emails marked as read');\n      fetchEmails();\n      setSelectedEmails([]);\n    } catch (error) {\n      toast.error('Failed to mark emails as read');\n    }\n  };\n  const handleMarkAsImportant = async () => {\n    try {\n      await Promise.all(selectedEmails.map(emailId => axios.put(`/api/emails/${emailId}`, {\n        isImportant: true\n      })));\n      toast.success('Emails marked as important');\n      fetchEmails();\n      setSelectedEmails([]);\n    } catch (error) {\n      toast.error('Failed to mark emails as important');\n    }\n  };\n  const handleDeleteEmails = async () => {\n    try {\n      await Promise.all(selectedEmails.map(emailId => axios.delete(`/api/emails/${emailId}`)));\n      toast.success('Emails moved to trash');\n      fetchEmails();\n      setSelectedEmails([]);\n    } catch (error) {\n      toast.error('Failed to delete emails');\n    }\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffTime = Math.abs(now - date);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    if (diffDays === 1) {\n      return 'Today';\n    } else if (diffDays === 2) {\n      return 'Yesterday';\n    } else if (diffDays <= 7) {\n      return date.toLocaleDateString('en-US', {\n        weekday: 'short'\n      });\n    } else {\n      return date.toLocaleDateString('en-US', {\n        month: 'short',\n        day: 'numeric'\n      });\n    }\n  };\n  const getInitials = (firstName, lastName) => {\n    return `${firstName.charAt(0)}${lastName.charAt(0)}`.toUpperCase();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: \"Mailbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"page-subtitle\",\n            children: \"Manage your emails\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/compose\",\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              className: \"inline-block mr-2\",\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), \"Compose\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mailbox-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mailbox-sidebar\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"sidebar-menu\",\n            children: labels.map(({\n              key,\n              label,\n              icon: Icon\n            }) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleLabelChange(key),\n                className: currentLabel === key ? 'active' : '',\n                style: {\n                  width: '100%',\n                  textAlign: 'left',\n                  background: 'none',\n                  border: 'none',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), label]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mailbox-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '20px',\n              borderBottom: '1px solid #f0f0f0'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'relative',\n                  flex: 1,\n                  maxWidth: '400px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Search, {\n                  size: 16,\n                  style: {\n                    position: 'absolute',\n                    left: '10px',\n                    top: '50%',\n                    transform: 'translateY(-50%)',\n                    color: '#666'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Search emails...\",\n                  value: searchTerm,\n                  onChange: handleSearch,\n                  className: \"form-control\",\n                  style: {\n                    paddingLeft: '35px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: fetchEmails,\n                className: \"btn btn-outline\",\n                disabled: loading,\n                children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), selectedEmails.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleMarkAsRead,\n                className: \"btn btn-outline\",\n                style: {\n                  fontSize: '12px',\n                  padding: '6px 12px'\n                },\n                children: \"Mark as Read\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleMarkAsImportant,\n                className: \"btn btn-outline\",\n                style: {\n                  fontSize: '12px',\n                  padding: '6px 12px'\n                },\n                children: \"Mark Important\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleDeleteEmails,\n                className: \"btn btn-danger\",\n                style: {\n                  fontSize: '12px',\n                  padding: '6px 12px'\n                },\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"email-list\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Loading emails...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this) : emails.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              style: {\n                padding: '40px',\n                color: '#666'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                size: 48,\n                className: \"mb-3\",\n                style: {\n                  opacity: 0.5\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"No emails in \", currentLabel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), currentLabel === 'inbox' && /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/compose\",\n                className: \"btn btn-primary mt-3\",\n                children: \"Compose Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '10px 20px',\n                  borderBottom: '1px solid #f0f0f0'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    cursor: 'pointer'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedEmails.length === emails.length && emails.length > 0,\n                    onChange: handleSelectAll\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 23\n                  }, this), \"Select All\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), emails.map(email => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `email-item ${!email.isRead ? 'unread' : ''}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  style: {\n                    gap: '12px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedEmails.includes(email._id),\n                    onChange: () => handleSelectEmail(email._id),\n                    style: {\n                      marginRight: '8px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"user-avatar\",\n                    style: {\n                      minWidth: '40px'\n                    },\n                    children: getInitials(email.from.firstName, email.from.lastName)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flex: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"email-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"email-sender\",\n                        children: [email.from.firstName, \" \", email.from.lastName]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"email-time\",\n                        children: formatDate(email.createdAt)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"email-subject\",\n                      children: email.subject\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"email-preview\",\n                      children: email.body.length > 100 ? `${email.body.substring(0, 100)}...` : email.body\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"email-actions\",\n                      children: [/*#__PURE__*/_jsxDEV(Link, {\n                        to: `/email/${email._id}`,\n                        className: \"btn btn-outline\",\n                        style: {\n                          fontSize: '12px',\n                          padding: '4px 8px'\n                        },\n                        children: \"View\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 29\n                      }, this), email.isImportant && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"status-badge status-active\",\n                        children: [/*#__PURE__*/_jsxDEV(Star, {\n                          size: 12,\n                          className: \"inline-block mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 33\n                        }, this), \"Important\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this)\n              }, email._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 21\n              }, this)), pagination.pages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                style: {\n                  padding: '20px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setPagination(prev => ({\n                      ...prev,\n                      current: prev.current - 1\n                    })),\n                    disabled: pagination.current === 1,\n                    className: \"btn btn-outline\",\n                    children: \"Previous\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      padding: '8px 16px',\n                      alignSelf: 'center'\n                    },\n                    children: [\"Page \", pagination.current, \" of \", pagination.pages]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setPagination(prev => ({\n                      ...prev,\n                      current: prev.current + 1\n                    })),\n                    disabled: pagination.current === pagination.pages,\n                    className: \"btn btn-outline\",\n                    children: \"Next\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n};\n_s(Mailbox, \"0hfHjQr56iFdcjaYtNLg1BRMX68=\");\n_c = Mailbox;\nexport default Mailbox;\nvar _c;\n$RefreshReg$(_c, \"Mailbox\");","map":{"version":3,"names":["React","useState","useEffect","Link","axios","toast","Mail","Send","Star","Trash2","Search","Plus","RefreshCw","jsxDEV","_jsxDEV","Fragment","_Fragment","Mailbox","_s","emails","setEmails","loading","setLoading","currentLabel","setCurrentLabel","searchTerm","setSearchTerm","selectedEmails","setSelectedEmails","pagination","setPagination","current","pages","total","labels","key","label","icon","fetchEmails","params","URLSearchParams","page","limit","append","response","get","data","error","console","handleLabelChange","prev","handleSearch","e","target","value","handleSelectEmail","emailId","includes","filter","id","handleSelectAll","length","map","email","_id","handleMarkAsRead","Promise","all","put","isRead","success","handleMarkAsImportant","isImportant","handleDeleteEmails","delete","formatDate","dateString","date","Date","now","diffTime","Math","abs","diffDays","ceil","toLocaleDateString","weekday","month","day","getInitials","firstName","lastName","charAt","toUpperCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","size","Icon","onClick","style","width","textAlign","background","border","cursor","display","alignItems","gap","padding","borderBottom","position","flex","maxWidth","left","top","transform","color","type","placeholder","onChange","paddingLeft","disabled","fontSize","opacity","checked","marginRight","minWidth","from","createdAt","subject","body","substring","alignSelf","_c","$RefreshReg$"],"sources":["C:/Users/mohit/OneDrive/Desktop/task/client/src/pages/Mailbox.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport { Mail, Send, Star, Trash2, Search, Plus, RefreshCw } from 'lucide-react';\r\n\r\nconst Mailbox = () => {\r\n  const [emails, setEmails] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentLabel, setCurrentLabel] = useState('inbox');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedEmails, setSelectedEmails] = useState([]);\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pages: 1,\r\n    total: 0\r\n  });\r\n\r\n  const labels = [\r\n    { key: 'inbox', label: 'Inbox', icon: Mail },\r\n    { key: 'sent', label: 'Sent', icon: Send },\r\n    { key: 'drafts', label: 'Drafts', icon: Star },\r\n    { key: 'important', label: 'Important', icon: Star },\r\n    { key: 'trash', label: 'Trash', icon: Trash2 }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchEmails();\r\n  }, [currentLabel, pagination.current, searchTerm]);\r\n\r\n  const fetchEmails = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = new URLSearchParams({\r\n        label: currentLabel,\r\n        page: pagination.current,\r\n        limit: 20\r\n      });\r\n      \r\n      if (searchTerm) {\r\n        params.append('search', searchTerm);\r\n      }\r\n\r\n      const response = await axios.get(`/api/emails?${params}`);\r\n      setEmails(response.data.emails);\r\n      setPagination(response.data.pagination);\r\n    } catch (error) {\r\n      console.error('Error fetching emails:', error);\r\n      toast.error('Failed to fetch emails');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLabelChange = (label) => {\r\n    setCurrentLabel(label);\r\n    setPagination(prev => ({ ...prev, current: 1 }));\r\n    setSelectedEmails([]);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n    setPagination(prev => ({ ...prev, current: 1 }));\r\n  };\r\n\r\n  const handleSelectEmail = (emailId) => {\r\n    setSelectedEmails(prev => \r\n      prev.includes(emailId) \r\n        ? prev.filter(id => id !== emailId)\r\n        : [...prev, emailId]\r\n    );\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    if (selectedEmails.length === emails.length) {\r\n      setSelectedEmails([]);\r\n    } else {\r\n      setSelectedEmails(emails.map(email => email._id));\r\n    }\r\n  };\r\n\r\n  const handleMarkAsRead = async () => {\r\n    try {\r\n      await Promise.all(\r\n        selectedEmails.map(emailId =>\r\n          axios.put(`/api/emails/${emailId}`, { isRead: true })\r\n        )\r\n      );\r\n      toast.success('Emails marked as read');\r\n      fetchEmails();\r\n      setSelectedEmails([]);\r\n    } catch (error) {\r\n      toast.error('Failed to mark emails as read');\r\n    }\r\n  };\r\n\r\n  const handleMarkAsImportant = async () => {\r\n    try {\r\n      await Promise.all(\r\n        selectedEmails.map(emailId =>\r\n          axios.put(`/api/emails/${emailId}`, { isImportant: true })\r\n        )\r\n      );\r\n      toast.success('Emails marked as important');\r\n      fetchEmails();\r\n      setSelectedEmails([]);\r\n    } catch (error) {\r\n      toast.error('Failed to mark emails as important');\r\n    }\r\n  };\r\n\r\n  const handleDeleteEmails = async () => {\r\n    try {\r\n      await Promise.all(\r\n        selectedEmails.map(emailId =>\r\n          axios.delete(`/api/emails/${emailId}`)\r\n        )\r\n      );\r\n      toast.success('Emails moved to trash');\r\n      fetchEmails();\r\n      setSelectedEmails([]);\r\n    } catch (error) {\r\n      toast.error('Failed to delete emails');\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffTime = Math.abs(now - date);\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays === 1) {\r\n      return 'Today';\r\n    } else if (diffDays === 2) {\r\n      return 'Yesterday';\r\n    } else if (diffDays <= 7) {\r\n      return date.toLocaleDateString('en-US', { weekday: 'short' });\r\n    } else {\r\n      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    }\r\n  };\r\n\r\n  const getInitials = (firstName, lastName) => {\r\n    return `${firstName.charAt(0)}${lastName.charAt(0)}`.toUpperCase();\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"container\">\r\n        <div className=\"page-header\">\r\n          <h1 className=\"page-title\">Mailbox</h1>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"page-subtitle\">Manage your emails</p>\r\n            <Link to=\"/compose\" className=\"btn btn-primary\">\r\n              <Plus className=\"inline-block mr-2\" size={16} />\r\n              Compose\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mailbox-container\">\r\n          {/* Sidebar */}\r\n          <div className=\"mailbox-sidebar\">\r\n            <ul className=\"sidebar-menu\">\r\n              {labels.map(({ key, label, icon: Icon }) => (\r\n                <li key={key}>\r\n                  <button\r\n                    onClick={() => handleLabelChange(key)}\r\n                    className={currentLabel === key ? 'active' : ''}\r\n                    style={{\r\n                      width: '100%',\r\n                      textAlign: 'left',\r\n                      background: 'none',\r\n                      border: 'none',\r\n                      cursor: 'pointer',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}\r\n                  >\r\n                    <Icon size={16} />\r\n                    {label}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Main Content */}\r\n          <div className=\"mailbox-content\">\r\n            {/* Search and Actions */}\r\n            <div style={{ padding: '20px', borderBottom: '1px solid #f0f0f0' }}>\r\n              <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                <div style={{ position: 'relative', flex: 1, maxWidth: '400px' }}>\r\n                  <Search \r\n                    size={16} \r\n                    style={{ \r\n                      position: 'absolute', \r\n                      left: '10px', \r\n                      top: '50%', \r\n                      transform: 'translateY(-50%)', \r\n                      color: '#666' \r\n                    }} \r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search emails...\"\r\n                    value={searchTerm}\r\n                    onChange={handleSearch}\r\n                    className=\"form-control\"\r\n                    style={{ paddingLeft: '35px' }}\r\n                  />\r\n                </div>\r\n                <button\r\n                  onClick={fetchEmails}\r\n                  className=\"btn btn-outline\"\r\n                  disabled={loading}\r\n                >\r\n                  <RefreshCw size={16} />\r\n                </button>\r\n              </div>\r\n\r\n              {selectedEmails.length > 0 && (\r\n                <div className=\"d-flex gap-2\">\r\n                  <button\r\n                    onClick={handleMarkAsRead}\r\n                    className=\"btn btn-outline\"\r\n                    style={{ fontSize: '12px', padding: '6px 12px' }}\r\n                  >\r\n                    Mark as Read\r\n                  </button>\r\n                  <button\r\n                    onClick={handleMarkAsImportant}\r\n                    className=\"btn btn-outline\"\r\n                    style={{ fontSize: '12px', padding: '6px 12px' }}\r\n                  >\r\n                    Mark Important\r\n                  </button>\r\n                  <button\r\n                    onClick={handleDeleteEmails}\r\n                    className=\"btn btn-danger\"\r\n                    style={{ fontSize: '12px', padding: '6px 12px' }}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Email List */}\r\n            <div className=\"email-list\">\r\n              {loading ? (\r\n                <div className=\"loading\">\r\n                  <div>Loading emails...</div>\r\n                </div>\r\n              ) : emails.length === 0 ? (\r\n                <div className=\"text-center\" style={{ padding: '40px', color: '#666' }}>\r\n                  <Mail size={48} className=\"mb-3\" style={{ opacity: 0.5 }} />\r\n                  <p>No emails in {currentLabel}</p>\r\n                  {currentLabel === 'inbox' && (\r\n                    <Link to=\"/compose\" className=\"btn btn-primary mt-3\">\r\n                      Compose Email\r\n                    </Link>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  {/* Select All */}\r\n                  <div style={{ padding: '10px 20px', borderBottom: '1px solid #f0f0f0' }}>\r\n                    <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer' }}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedEmails.length === emails.length && emails.length > 0}\r\n                        onChange={handleSelectAll}\r\n                      />\r\n                      Select All\r\n                    </label>\r\n                  </div>\r\n\r\n                  {emails.map((email) => (\r\n                    <div \r\n                      key={email._id} \r\n                      className={`email-item ${!email.isRead ? 'unread' : ''}`}\r\n                    >\r\n                      <div className=\"d-flex align-items-center\" style={{ gap: '12px' }}>\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedEmails.includes(email._id)}\r\n                          onChange={() => handleSelectEmail(email._id)}\r\n                          style={{ marginRight: '8px' }}\r\n                        />\r\n                        \r\n                        <div className=\"user-avatar\" style={{ minWidth: '40px' }}>\r\n                          {getInitials(email.from.firstName, email.from.lastName)}\r\n                        </div>\r\n                        \r\n                        <div style={{ flex: 1 }}>\r\n                          <div className=\"email-header\">\r\n                            <div className=\"email-sender\">\r\n                              {email.from.firstName} {email.from.lastName}\r\n                            </div>\r\n                            <div className=\"email-time\">\r\n                              {formatDate(email.createdAt)}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"email-subject\">{email.subject}</div>\r\n                          <div className=\"email-preview\">\r\n                            {email.body.length > 100 \r\n                              ? `${email.body.substring(0, 100)}...` \r\n                              : email.body\r\n                            }\r\n                          </div>\r\n                          <div className=\"email-actions\">\r\n                            <Link \r\n                              to={`/email/${email._id}`} \r\n                              className=\"btn btn-outline\"\r\n                              style={{ fontSize: '12px', padding: '4px 8px' }}\r\n                            >\r\n                              View\r\n                            </Link>\r\n                            {email.isImportant && (\r\n                              <span className=\"status-badge status-active\">\r\n                                <Star size={12} className=\"inline-block mr-1\" />\r\n                                Important\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {/* Pagination */}\r\n                  {pagination.pages > 1 && (\r\n                    <div className=\"text-center\" style={{ padding: '20px' }}>\r\n                      <div className=\"d-flex justify-content-center gap-2\">\r\n                        <button\r\n                          onClick={() => setPagination(prev => ({ ...prev, current: prev.current - 1 }))}\r\n                          disabled={pagination.current === 1}\r\n                          className=\"btn btn-outline\"\r\n                        >\r\n                          Previous\r\n                        </button>\r\n                        <span style={{ padding: '8px 16px', alignSelf: 'center' }}>\r\n                          Page {pagination.current} of {pagination.pages}\r\n                        </span>\r\n                        <button\r\n                          onClick={() => setPagination(prev => ({ ...prev, current: prev.current + 1 }))}\r\n                          disabled={pagination.current === pagination.pages}\r\n                          className=\"btn btn-outline\"\r\n                        >\r\n                          Next\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mailbox;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAASC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,SAAS,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjF,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,OAAO,CAAC;EACzD,MAAM,CAACwB,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC0B,cAAc,EAAEC,iBAAiB,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAC4B,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC;IAC3C8B,OAAO,EAAE,CAAC;IACVC,KAAK,EAAE,CAAC;IACRC,KAAK,EAAE;EACT,CAAC,CAAC;EAEF,MAAMC,MAAM,GAAG,CACb;IAAEC,GAAG,EAAE,OAAO;IAAEC,KAAK,EAAE,OAAO;IAAEC,IAAI,EAAE/B;EAAK,CAAC,EAC5C;IAAE6B,GAAG,EAAE,MAAM;IAAEC,KAAK,EAAE,MAAM;IAAEC,IAAI,EAAE9B;EAAK,CAAC,EAC1C;IAAE4B,GAAG,EAAE,QAAQ;IAAEC,KAAK,EAAE,QAAQ;IAAEC,IAAI,EAAE7B;EAAK,CAAC,EAC9C;IAAE2B,GAAG,EAAE,WAAW;IAAEC,KAAK,EAAE,WAAW;IAAEC,IAAI,EAAE7B;EAAK,CAAC,EACpD;IAAE2B,GAAG,EAAE,OAAO;IAAEC,KAAK,EAAE,OAAO;IAAEC,IAAI,EAAE5B;EAAO,CAAC,CAC/C;EAEDP,SAAS,CAAC,MAAM;IACdoC,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACf,YAAY,EAAEM,UAAU,CAACE,OAAO,EAAEN,UAAU,CAAC,CAAC;EAElD,MAAMa,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACFhB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMiB,MAAM,GAAG,IAAIC,eAAe,CAAC;QACjCJ,KAAK,EAAEb,YAAY;QACnBkB,IAAI,EAAEZ,UAAU,CAACE,OAAO;QACxBW,KAAK,EAAE;MACT,CAAC,CAAC;MAEF,IAAIjB,UAAU,EAAE;QACdc,MAAM,CAACI,MAAM,CAAC,QAAQ,EAAElB,UAAU,CAAC;MACrC;MAEA,MAAMmB,QAAQ,GAAG,MAAMxC,KAAK,CAACyC,GAAG,CAAC,eAAeN,MAAM,EAAE,CAAC;MACzDnB,SAAS,CAACwB,QAAQ,CAACE,IAAI,CAAC3B,MAAM,CAAC;MAC/BW,aAAa,CAACc,QAAQ,CAACE,IAAI,CAACjB,UAAU,CAAC;IACzC,CAAC,CAAC,OAAOkB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C1C,KAAK,CAAC0C,KAAK,CAAC,wBAAwB,CAAC;IACvC,CAAC,SAAS;MACRzB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM2B,iBAAiB,GAAIb,KAAK,IAAK;IACnCZ,eAAe,CAACY,KAAK,CAAC;IACtBN,aAAa,CAACoB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEnB,OAAO,EAAE;IAAE,CAAC,CAAC,CAAC;IAChDH,iBAAiB,CAAC,EAAE,CAAC;EACvB,CAAC;EAED,MAAMuB,YAAY,GAAIC,CAAC,IAAK;IAC1B1B,aAAa,CAAC0B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAC7BxB,aAAa,CAACoB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEnB,OAAO,EAAE;IAAE,CAAC,CAAC,CAAC;EAClD,CAAC;EAED,MAAMwB,iBAAiB,GAAIC,OAAO,IAAK;IACrC5B,iBAAiB,CAACsB,IAAI,IACpBA,IAAI,CAACO,QAAQ,CAACD,OAAO,CAAC,GAClBN,IAAI,CAACQ,MAAM,CAACC,EAAE,IAAIA,EAAE,KAAKH,OAAO,CAAC,GACjC,CAAC,GAAGN,IAAI,EAAEM,OAAO,CACvB,CAAC;EACH,CAAC;EAED,MAAMI,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAIjC,cAAc,CAACkC,MAAM,KAAK1C,MAAM,CAAC0C,MAAM,EAAE;MAC3CjC,iBAAiB,CAAC,EAAE,CAAC;IACvB,CAAC,MAAM;MACLA,iBAAiB,CAACT,MAAM,CAAC2C,GAAG,CAACC,KAAK,IAAIA,KAAK,CAACC,GAAG,CAAC,CAAC;IACnD;EACF,CAAC;EAED,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,MAAMC,OAAO,CAACC,GAAG,CACfxC,cAAc,CAACmC,GAAG,CAACN,OAAO,IACxBpD,KAAK,CAACgE,GAAG,CAAC,eAAeZ,OAAO,EAAE,EAAE;QAAEa,MAAM,EAAE;MAAK,CAAC,CACtD,CACF,CAAC;MACDhE,KAAK,CAACiE,OAAO,CAAC,uBAAuB,CAAC;MACtChC,WAAW,CAAC,CAAC;MACbV,iBAAiB,CAAC,EAAE,CAAC;IACvB,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACd1C,KAAK,CAAC0C,KAAK,CAAC,+BAA+B,CAAC;IAC9C;EACF,CAAC;EAED,MAAMwB,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACxC,IAAI;MACF,MAAML,OAAO,CAACC,GAAG,CACfxC,cAAc,CAACmC,GAAG,CAACN,OAAO,IACxBpD,KAAK,CAACgE,GAAG,CAAC,eAAeZ,OAAO,EAAE,EAAE;QAAEgB,WAAW,EAAE;MAAK,CAAC,CAC3D,CACF,CAAC;MACDnE,KAAK,CAACiE,OAAO,CAAC,4BAA4B,CAAC;MAC3ChC,WAAW,CAAC,CAAC;MACbV,iBAAiB,CAAC,EAAE,CAAC;IACvB,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACd1C,KAAK,CAAC0C,KAAK,CAAC,oCAAoC,CAAC;IACnD;EACF,CAAC;EAED,MAAM0B,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACF,MAAMP,OAAO,CAACC,GAAG,CACfxC,cAAc,CAACmC,GAAG,CAACN,OAAO,IACxBpD,KAAK,CAACsE,MAAM,CAAC,eAAelB,OAAO,EAAE,CACvC,CACF,CAAC;MACDnD,KAAK,CAACiE,OAAO,CAAC,uBAAuB,CAAC;MACtChC,WAAW,CAAC,CAAC;MACbV,iBAAiB,CAAC,EAAE,CAAC;IACvB,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACd1C,KAAK,CAAC0C,KAAK,CAAC,yBAAyB,CAAC;IACxC;EACF,CAAC;EAED,MAAM4B,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;IACjC,MAAMG,GAAG,GAAG,IAAID,IAAI,CAAC,CAAC;IACtB,MAAME,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACH,GAAG,GAAGF,IAAI,CAAC;IACrC,MAAMM,QAAQ,GAAGF,IAAI,CAACG,IAAI,CAACJ,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAE5D,IAAIG,QAAQ,KAAK,CAAC,EAAE;MAClB,OAAO,OAAO;IAChB,CAAC,MAAM,IAAIA,QAAQ,KAAK,CAAC,EAAE;MACzB,OAAO,WAAW;IACpB,CAAC,MAAM,IAAIA,QAAQ,IAAI,CAAC,EAAE;MACxB,OAAON,IAAI,CAACQ,kBAAkB,CAAC,OAAO,EAAE;QAAEC,OAAO,EAAE;MAAQ,CAAC,CAAC;IAC/D,CAAC,MAAM;MACL,OAAOT,IAAI,CAACQ,kBAAkB,CAAC,OAAO,EAAE;QAAEE,KAAK,EAAE,OAAO;QAAEC,GAAG,EAAE;MAAU,CAAC,CAAC;IAC7E;EACF,CAAC;EAED,MAAMC,WAAW,GAAGA,CAACC,SAAS,EAAEC,QAAQ,KAAK;IAC3C,OAAO,GAAGD,SAAS,CAACE,MAAM,CAAC,CAAC,CAAC,GAAGD,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,CAACC,WAAW,CAAC,CAAC;EACpE,CAAC;EAED,oBACE/E,OAAA;IAAKgF,SAAS,EAAC,MAAM;IAAAC,QAAA,eACnBjF,OAAA;MAAKgF,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBjF,OAAA;QAAKgF,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BjF,OAAA;UAAIgF,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvCrF,OAAA;UAAKgF,SAAS,EAAC,mDAAmD;UAAAC,QAAA,gBAChEjF,OAAA;YAAGgF,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACnDrF,OAAA,CAACX,IAAI;YAACiG,EAAE,EAAC,UAAU;YAACN,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC7CjF,OAAA,CAACH,IAAI;cAACmF,SAAS,EAAC,mBAAmB;cAACO,IAAI,EAAE;YAAG;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,WAElD;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENrF,OAAA;QAAKgF,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAEhCjF,OAAA;UAAKgF,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9BjF,OAAA;YAAIgF,SAAS,EAAC,cAAc;YAAAC,QAAA,EACzB7D,MAAM,CAAC4B,GAAG,CAAC,CAAC;cAAE3B,GAAG;cAAEC,KAAK;cAAEC,IAAI,EAAEiE;YAAK,CAAC,kBACrCxF,OAAA;cAAAiF,QAAA,eACEjF,OAAA;gBACEyF,OAAO,EAAEA,CAAA,KAAMtD,iBAAiB,CAACd,GAAG,CAAE;gBACtC2D,SAAS,EAAEvE,YAAY,KAAKY,GAAG,GAAG,QAAQ,GAAG,EAAG;gBAChDqE,KAAK,EAAE;kBACLC,KAAK,EAAE,MAAM;kBACbC,SAAS,EAAE,MAAM;kBACjBC,UAAU,EAAE,MAAM;kBAClBC,MAAM,EAAE,MAAM;kBACdC,MAAM,EAAE,SAAS;kBACjBC,OAAO,EAAE,MAAM;kBACfC,UAAU,EAAE,QAAQ;kBACpBC,GAAG,EAAE;gBACP,CAAE;gBAAAjB,QAAA,gBAEFjF,OAAA,CAACwF,IAAI;kBAACD,IAAI,EAAE;gBAAG;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EACjB/D,KAAK;cAAA;gBAAA4D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA;YAAC,GAjBFhE,GAAG;cAAA6D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAkBR,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eAGNrF,OAAA;UAAKgF,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAE9BjF,OAAA;YAAK0F,KAAK,EAAE;cAAES,OAAO,EAAE,MAAM;cAAEC,YAAY,EAAE;YAAoB,CAAE;YAAAnB,QAAA,gBACjEjF,OAAA;cAAKgF,SAAS,EAAC,wDAAwD;cAAAC,QAAA,gBACrEjF,OAAA;gBAAK0F,KAAK,EAAE;kBAAEW,QAAQ,EAAE,UAAU;kBAAEC,IAAI,EAAE,CAAC;kBAAEC,QAAQ,EAAE;gBAAQ,CAAE;gBAAAtB,QAAA,gBAC/DjF,OAAA,CAACJ,MAAM;kBACL2F,IAAI,EAAE,EAAG;kBACTG,KAAK,EAAE;oBACLW,QAAQ,EAAE,UAAU;oBACpBG,IAAI,EAAE,MAAM;oBACZC,GAAG,EAAE,KAAK;oBACVC,SAAS,EAAE,kBAAkB;oBAC7BC,KAAK,EAAE;kBACT;gBAAE;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACFrF,OAAA;kBACE4G,IAAI,EAAC,MAAM;kBACXC,WAAW,EAAC,kBAAkB;kBAC9BrE,KAAK,EAAE7B,UAAW;kBAClBmG,QAAQ,EAAEzE,YAAa;kBACvB2C,SAAS,EAAC,cAAc;kBACxBU,KAAK,EAAE;oBAAEqB,WAAW,EAAE;kBAAO;gBAAE;kBAAA7B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACNrF,OAAA;gBACEyF,OAAO,EAAEjE,WAAY;gBACrBwD,SAAS,EAAC,iBAAiB;gBAC3BgC,QAAQ,EAAEzG,OAAQ;gBAAA0E,QAAA,eAElBjF,OAAA,CAACF,SAAS;kBAACyF,IAAI,EAAE;gBAAG;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,EAELxE,cAAc,CAACkC,MAAM,GAAG,CAAC,iBACxB/C,OAAA;cAAKgF,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BjF,OAAA;gBACEyF,OAAO,EAAEtC,gBAAiB;gBAC1B6B,SAAS,EAAC,iBAAiB;gBAC3BU,KAAK,EAAE;kBAAEuB,QAAQ,EAAE,MAAM;kBAAEd,OAAO,EAAE;gBAAW,CAAE;gBAAAlB,QAAA,EAClD;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTrF,OAAA;gBACEyF,OAAO,EAAEhC,qBAAsB;gBAC/BuB,SAAS,EAAC,iBAAiB;gBAC3BU,KAAK,EAAE;kBAAEuB,QAAQ,EAAE,MAAM;kBAAEd,OAAO,EAAE;gBAAW,CAAE;gBAAAlB,QAAA,EAClD;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTrF,OAAA;gBACEyF,OAAO,EAAE9B,kBAAmB;gBAC5BqB,SAAS,EAAC,gBAAgB;gBAC1BU,KAAK,EAAE;kBAAEuB,QAAQ,EAAE,MAAM;kBAAEd,OAAO,EAAE;gBAAW,CAAE;gBAAAlB,QAAA,EAClD;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGNrF,OAAA;YAAKgF,SAAS,EAAC,YAAY;YAAAC,QAAA,EACxB1E,OAAO,gBACNP,OAAA;cAAKgF,SAAS,EAAC,SAAS;cAAAC,QAAA,eACtBjF,OAAA;gBAAAiF,QAAA,EAAK;cAAiB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,GACJhF,MAAM,CAAC0C,MAAM,KAAK,CAAC,gBACrB/C,OAAA;cAAKgF,SAAS,EAAC,aAAa;cAACU,KAAK,EAAE;gBAAES,OAAO,EAAE,MAAM;gBAAEQ,KAAK,EAAE;cAAO,CAAE;cAAA1B,QAAA,gBACrEjF,OAAA,CAACR,IAAI;gBAAC+F,IAAI,EAAE,EAAG;gBAACP,SAAS,EAAC,MAAM;gBAACU,KAAK,EAAE;kBAAEwB,OAAO,EAAE;gBAAI;cAAE;gBAAAhC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC5DrF,OAAA;gBAAAiF,QAAA,GAAG,eAAa,EAACxE,YAAY;cAAA;gBAAAyE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACjC5E,YAAY,KAAK,OAAO,iBACvBT,OAAA,CAACX,IAAI;gBAACiG,EAAE,EAAC,UAAU;gBAACN,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EAAC;cAErD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CACP;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,gBAENrF,OAAA,CAAAE,SAAA;cAAA+E,QAAA,gBAEEjF,OAAA;gBAAK0F,KAAK,EAAE;kBAAES,OAAO,EAAE,WAAW;kBAAEC,YAAY,EAAE;gBAAoB,CAAE;gBAAAnB,QAAA,eACtEjF,OAAA;kBAAO0F,KAAK,EAAE;oBAAEM,OAAO,EAAE,MAAM;oBAAEC,UAAU,EAAE,QAAQ;oBAAEC,GAAG,EAAE,KAAK;oBAAEH,MAAM,EAAE;kBAAU,CAAE;kBAAAd,QAAA,gBACrFjF,OAAA;oBACE4G,IAAI,EAAC,UAAU;oBACfO,OAAO,EAAEtG,cAAc,CAACkC,MAAM,KAAK1C,MAAM,CAAC0C,MAAM,IAAI1C,MAAM,CAAC0C,MAAM,GAAG,CAAE;oBACtE+D,QAAQ,EAAEhE;kBAAgB;oBAAAoC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC3B,CAAC,cAEJ;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,EAELhF,MAAM,CAAC2C,GAAG,CAAEC,KAAK,iBAChBjD,OAAA;gBAEEgF,SAAS,EAAE,cAAc,CAAC/B,KAAK,CAACM,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;gBAAA0B,QAAA,eAEzDjF,OAAA;kBAAKgF,SAAS,EAAC,2BAA2B;kBAACU,KAAK,EAAE;oBAAEQ,GAAG,EAAE;kBAAO,CAAE;kBAAAjB,QAAA,gBAChEjF,OAAA;oBACE4G,IAAI,EAAC,UAAU;oBACfO,OAAO,EAAEtG,cAAc,CAAC8B,QAAQ,CAACM,KAAK,CAACC,GAAG,CAAE;oBAC5C4D,QAAQ,EAAEA,CAAA,KAAMrE,iBAAiB,CAACQ,KAAK,CAACC,GAAG,CAAE;oBAC7CwC,KAAK,EAAE;sBAAE0B,WAAW,EAAE;oBAAM;kBAAE;oBAAAlC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/B,CAAC,eAEFrF,OAAA;oBAAKgF,SAAS,EAAC,aAAa;oBAACU,KAAK,EAAE;sBAAE2B,QAAQ,EAAE;oBAAO,CAAE;oBAAApC,QAAA,EACtDN,WAAW,CAAC1B,KAAK,CAACqE,IAAI,CAAC1C,SAAS,EAAE3B,KAAK,CAACqE,IAAI,CAACzC,QAAQ;kBAAC;oBAAAK,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACpD,CAAC,eAENrF,OAAA;oBAAK0F,KAAK,EAAE;sBAAEY,IAAI,EAAE;oBAAE,CAAE;oBAAArB,QAAA,gBACtBjF,OAAA;sBAAKgF,SAAS,EAAC,cAAc;sBAAAC,QAAA,gBAC3BjF,OAAA;wBAAKgF,SAAS,EAAC,cAAc;wBAAAC,QAAA,GAC1BhC,KAAK,CAACqE,IAAI,CAAC1C,SAAS,EAAC,GAAC,EAAC3B,KAAK,CAACqE,IAAI,CAACzC,QAAQ;sBAAA;wBAAAK,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACxC,CAAC,eACNrF,OAAA;wBAAKgF,SAAS,EAAC,YAAY;wBAAAC,QAAA,EACxBpB,UAAU,CAACZ,KAAK,CAACsE,SAAS;sBAAC;wBAAArC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACzB,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC,eACNrF,OAAA;sBAAKgF,SAAS,EAAC,eAAe;sBAAAC,QAAA,EAAEhC,KAAK,CAACuE;oBAAO;sBAAAtC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACpDrF,OAAA;sBAAKgF,SAAS,EAAC,eAAe;sBAAAC,QAAA,EAC3BhC,KAAK,CAACwE,IAAI,CAAC1E,MAAM,GAAG,GAAG,GACpB,GAAGE,KAAK,CAACwE,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,GACpCzE,KAAK,CAACwE;oBAAI;sBAAAvC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAEX,CAAC,eACNrF,OAAA;sBAAKgF,SAAS,EAAC,eAAe;sBAAAC,QAAA,gBAC5BjF,OAAA,CAACX,IAAI;wBACHiG,EAAE,EAAE,UAAUrC,KAAK,CAACC,GAAG,EAAG;wBAC1B8B,SAAS,EAAC,iBAAiB;wBAC3BU,KAAK,EAAE;0BAAEuB,QAAQ,EAAE,MAAM;0BAAEd,OAAO,EAAE;wBAAU,CAAE;wBAAAlB,QAAA,EACjD;sBAED;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,EACNpC,KAAK,CAACS,WAAW,iBAChB1D,OAAA;wBAAMgF,SAAS,EAAC,4BAA4B;wBAAAC,QAAA,gBAC1CjF,OAAA,CAACN,IAAI;0BAAC6F,IAAI,EAAE,EAAG;0BAACP,SAAS,EAAC;wBAAmB;0BAAAE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAC,aAElD;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CACP;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC,GA/CDpC,KAAK,CAACC,GAAG;gBAAAgC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAgDX,CACN,CAAC,EAGDtE,UAAU,CAACG,KAAK,GAAG,CAAC,iBACnBlB,OAAA;gBAAKgF,SAAS,EAAC,aAAa;gBAACU,KAAK,EAAE;kBAAES,OAAO,EAAE;gBAAO,CAAE;gBAAAlB,QAAA,eACtDjF,OAAA;kBAAKgF,SAAS,EAAC,qCAAqC;kBAAAC,QAAA,gBAClDjF,OAAA;oBACEyF,OAAO,EAAEA,CAAA,KAAMzE,aAAa,CAACoB,IAAI,KAAK;sBAAE,GAAGA,IAAI;sBAAEnB,OAAO,EAAEmB,IAAI,CAACnB,OAAO,GAAG;oBAAE,CAAC,CAAC,CAAE;oBAC/E+F,QAAQ,EAAEjG,UAAU,CAACE,OAAO,KAAK,CAAE;oBACnC+D,SAAS,EAAC,iBAAiB;oBAAAC,QAAA,EAC5B;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACTrF,OAAA;oBAAM0F,KAAK,EAAE;sBAAES,OAAO,EAAE,UAAU;sBAAEwB,SAAS,EAAE;oBAAS,CAAE;oBAAA1C,QAAA,GAAC,OACpD,EAAClE,UAAU,CAACE,OAAO,EAAC,MAAI,EAACF,UAAU,CAACG,KAAK;kBAAA;oBAAAgE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1C,CAAC,eACPrF,OAAA;oBACEyF,OAAO,EAAEA,CAAA,KAAMzE,aAAa,CAACoB,IAAI,KAAK;sBAAE,GAAGA,IAAI;sBAAEnB,OAAO,EAAEmB,IAAI,CAACnB,OAAO,GAAG;oBAAE,CAAC,CAAC,CAAE;oBAC/E+F,QAAQ,EAAEjG,UAAU,CAACE,OAAO,KAAKF,UAAU,CAACG,KAAM;oBAClD8D,SAAS,EAAC,iBAAiB;oBAAAC,QAAA,EAC5B;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACN;YAAA,eACD;UACH;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACjF,EAAA,CAvWID,OAAO;AAAAyH,EAAA,GAAPzH,OAAO;AAyWb,eAAeA,OAAO;AAAC,IAAAyH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}